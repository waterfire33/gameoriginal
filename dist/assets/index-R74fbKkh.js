(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();const y=document.getElementById("game");y.style.fontFamily="Arial, sans-serif";y.style.maxWidth="800px";y.style.margin="0 auto";y.style.padding="20px";const v={A1:{name:"Beginner",description:"Basic ability to understand short, simple words and phrases.",skills:["Understand very basic vocabulary","Introduce themselves","Answer simple personal questions","Understand slow, clear speech"],definition_rules:{max_sentence_length:8,max_word_length:8,allowed_concepts:["basic nouns","basic verbs","everyday objects","simple adjectives"],avoid:["abstract ideas","technical terms","complex grammar"],language_style:"simple, slow, concrete"}},A2:{name:"Elementary",description:"Can understand common phrases and describe simple events.",skills:["Understand everyday expressions","Describe past and present events","Communicate simple needs"],definition_rules:{max_sentence_length:12,max_word_length:10,allowed_concepts:["daily routines","shopping","family","school","simple past actions"],avoid:["advanced vocabulary","figurative language"],language_style:"familiar, simple, short sentences"}},B1:{name:"Intermediate",description:"Can understand main ideas of clear speech and handle common situations.",skills:["Understand straightforward conversations","Write simple paragraphs","Discuss opinions and plans"],definition_rules:{max_sentence_length:18,max_word_length:12,allowed_concepts:["opinions","dreams","plans","work situations","travel situations"],avoid:["specialized academic words","complex idioms"],language_style:"clear, direct, everyday English"}},B2:{name:"Upper Intermediate",description:"Can understand more complex texts and interact fluently.",skills:["Understand abstract or technical topics","Speak fluently with native speakers","Write detailed essays","Argue a point of view"],definition_rules:{max_sentence_length:25,max_word_length:14,allowed_concepts:["abstract ideas","academic topics","nuance"],avoid:["very rare vocabulary"],language_style:"fluent, precise, well-structured"}},C1:{name:"Advanced",description:"Can use English naturally, fluently, and with academic/professional tone.",skills:["Understand complex, long texts","Use academic or professional vocabulary","Express ideas naturally and precisely","Write advanced, structured texts"],definition_rules:{max_sentence_length:40,max_word_length:20,allowed_concepts:["academic language","professional terms","complex syntax"],avoid:["none unless extremely specialized"],language_style:"high-level, nuanced, analytical"}}};let c=[],g=[],_="A1",r=null,p=null,h=new Set;function S(){if("speechSynthesis"in window){const e=new SpeechSynthesisUtterance("excellent");window.speechSynthesis.speak(e)}}const d=document.createElement("div");d.style.textAlign="center";d.style.marginBottom="20px";const b=document.createElement("h1");b.textContent="Vocabulary Matching Game";b.style.color="white";d.appendChild(b);const x=document.createElement("label");x.textContent="Enter words (one per line):";x.style.display="block";x.style.color="white";x.style.marginBottom="10px";d.appendChild(x);const C=document.createElement("textarea");C.rows=10;C.cols=50;C.placeholder=`apple
banana
cherry
...`;d.appendChild(C);const f=document.createElement("label");f.textContent="English Level:";f.style.display="block";f.style.color="white";f.style.marginTop="20px";f.style.marginBottom="10px";d.appendChild(f);const w=document.createElement("select");w.style.marginBottom="20px";Object.keys(v).forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=`${e} - ${v[e].name}`,w.appendChild(t)});d.appendChild(w);const i=document.createElement("button");i.textContent="Start Game";i.style.padding="10px 20px";i.style.fontSize="16px";i.style.cursor="pointer";i.style.backgroundColor="blue";i.style.color="white";i.style.border="none";i.style.borderRadius="5px";i.addEventListener("click",A);d.appendChild(i);const u=document.createElement("div");u.style.color="white";u.style.textAlign="center";u.style.marginTop="20px";d.appendChild(u);y.appendChild(d);async function A(){const e=C.value.trim();if(!e){u.textContent="Please enter some words.";return}if(c=e.split(`
`).map(t=>t.trim()).filter(t=>t),_=w.value,c.length<2){u.textContent="Please enter at least 2 words.";return}u.textContent="Fetching definitions...",i.disabled=!0;try{g=[];for(const t of c){const a=await D(t,_);if(a)g.push(a);else{u.textContent=`Could not find definition for "${t}".`,i.disabled=!1;return}}u.textContent="",$()}catch{u.textContent="Error fetching definitions. Please try again.",i.disabled=!1}}function k(e,t){return{A1:`I see a ${e}.`,A2:`I bought a ${e} yesterday.`,B1:`I think ${e} is good for health.`,B2:`The ${e} provides many benefits.`,C1:`The analysis of ${e} reveals significant insights.`}[t]||`I like ${e}.`}function B(e,t,a){const s=v[e].definition_rules;let n=t;const l=n.split(/[.!?]+/).filter(m=>m.trim());if(l.length>0){let m=l[0].trim();m=m.split(/\s+/).slice(0,s.max_sentence_length).join(" "),e==="A1"&&(m=m.replace(/[^a-zA-Z\s]/g,"").toLowerCase()),n=m}const o=k(a,e);return`Definition: ${n}
Example: ${o}`}async function D(e,t){try{const a=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${e}`);if(!a.ok)return null;const s=await a.json();if(!s[0]||!s[0].meanings||!s[0].meanings[0])return null;const n=s[0].meanings[0].definitions[0].definition;return B(t,n,e)}catch{return null}}function $(){d.style.display="none",r=document.createElement("div"),r.style.display="flex",r.style.justifyContent="space-between",r.style.alignItems="center",r.style.height="600px";const e=document.createElement("div");e.style.display="grid",e.style.gridTemplateColumns=`repeat(${Math.ceil(c.length/3)}, 120px)`,e.style.gridTemplateRows="repeat(3, 120px)",e.style.gap="10px";const t=document.createElement("div");t.style.display="grid",t.style.gridTemplateColumns=`repeat(${Math.ceil(c.length/3)}, 120px)`,t.style.gridTemplateRows="repeat(3, 120px)",t.style.gap="10px";const a=[...Array(c.length).keys()].sort(()=>Math.random()-.5),s=[...Array(g.length).keys()].sort(()=>Math.random()-.5);a.forEach((n,l)=>{const o=E("word",n,c[n]);e.appendChild(o)}),s.forEach((n,l)=>{const o=E("definition",n,g[n]);t.appendChild(o)}),r.appendChild(e),r.appendChild(t),y.appendChild(r)}function E(e,t,a){const s=document.createElement("div");return s.style.width="120px",s.style.height="120px",s.style.backgroundColor=L(),s.style.display="flex",s.style.alignItems="center",s.style.justifyContent="center",s.style.cursor="pointer",s.style.borderRadius="10px",s.style.fontSize="14px",s.style.fontWeight="bold",s.style.textAlign="center",s.style.padding="5px",s.style.boxSizing="border-box",s.style.color="transparent",s.textContent=a,s.addEventListener("click",()=>T(e,t,s)),s}function L(){const e=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FFEAA7","#DDA0DD","#98D8C8","#F7DC6F","#BB8FCE"];return e[Math.floor(Math.random()*e.length)]}function T(e,t,a){if(!h.has(e==="word"?t:t+c.length))if(p===null)p={type:e,index:t},a.style.color="black";else{if(p.type===e&&p.index===t)return;a.style.color="black",setTimeout(()=>{p.type!==e&&p.index===t?(S(),h.add(p.index),h.add(t+(e==="definition"?c.length:0)),r.querySelectorAll('div[style*="cursor: pointer"]').forEach(n=>{const l=n.textContent||"",o=c.includes(l)?"word":"definition",m=o==="word"?c.indexOf(l):g.indexOf(l);(o===p.type&&m===p.index||o===e&&m===t)&&(n.style.display="none")})):r.querySelectorAll('div[style*="cursor: pointer"]').forEach(n=>{n.style.color==="black"&&(n.style.color="transparent")}),p=null,h.size===c.length*2&&setTimeout(()=>{alert("Congratulations! You matched all pairs!"),q()},500)},1e3)}}function q(){r&&(y.removeChild(r),r=null),d.style.display="block",i.disabled=!1,u.textContent="",h.clear(),p=null}

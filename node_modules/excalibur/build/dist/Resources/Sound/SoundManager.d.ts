import { Sound } from './Sound';
export type AnyString = {} & string;
export interface ChannelSoundsConfiguration {
    sounds: Sound[];
}
export interface SoundConfig<Channel extends string = string> {
    sound: Sound;
    /**
     * Maximum volume for the sound manager to use, all soundManager.play(.5) calls will
     */
    volume?: number;
    /**
     *
     * You may also add a list of string `channels` to do group operations to sounds at once. For example mute all 'background' sounds.
     */
    channels?: Channel[];
}
export interface SoundManagerOptions<Channel extends string = string, SoundName extends string = string> {
    /**
     * Optionally specify the possible channels to avoid typo's
     */
    channels?: readonly Channel[];
    /**
     * Optionally set the default maximum volume for all sounds
     *
     * Default is 1 (100%)
     */
    volume?: number;
    /**
     * Optionally set the max `volume` for a `sound` to be when played. All other volume operations will be a fraction of the mix.
     *
     * You may also add a list of string `channels` to do group operations to sounds at once. For example mute all 'background' sounds.
     *
     */
    sounds: Record<SoundName, Sound | SoundConfig<NoInfer<Channel>>>;
}
export type PossibleChannels<TSoundManagerOptions> = TSoundManagerOptions extends SoundManagerOptions<infer Channels> ? Channels : never;
export type PossibleSounds<TSoundMangerOptions> = TSoundMangerOptions extends SoundManagerOptions ? Extract<keyof TSoundMangerOptions['sounds'], string> : never;
export interface SoundManagerApi {
    setVolume(name: string, volume?: number): void;
    play(name: string, volume?: number): Promise<void>;
    stop(name?: string): void;
    mute(name?: string): void;
    unmute(name?: string): void;
    toggle(name?: string): void;
}
export declare class ChannelCollection<Channel extends string> implements SoundManagerApi {
    soundManager: SoundManager<Channel, string>;
    constructor(options: SoundManagerOptions<Channel, string>, soundManager: SoundManager<Channel, string>);
    stop(name: string): void;
    setVolume(name: Channel, volume?: number): void;
    play(name: Channel, volume?: number): Promise<void>;
    mute(name: Channel): void;
    unmute(name: Channel): void;
    toggle(name: Channel): void;
}
/**
 * Manage Sound volume levels without mutating the original Sound objects
 */
export declare class SoundManager<Channel extends string, SoundName extends string> implements SoundManagerApi {
    private _channelToConfig;
    private _nameToConfig;
    private _mix;
    _muted: Set<Sound>;
    private _all;
    private _defaultVolume;
    set defaultVolume(volume: number);
    get defaultVolume(): number;
    channel: ChannelCollection<Channel>;
    constructor(options: SoundManagerOptions<Channel, SoundName>);
    getSounds(): readonly Sound[];
    getSoundsForChannel(channel: Channel | AnyString): readonly Sound[];
    _isMuted(sound: Sound): boolean;
    _getEffectiveVolume(sound: Sound): number;
    play(soundName: SoundName, volume?: number): Promise<void>;
    getSound(soundName: SoundName | AnyString): Sound | undefined;
    setVolume(soundname: SoundName, volume?: number): void;
    /**
     * Gets the volumn for a sound
     */
    getVolume(soundName: SoundName): number;
    /**
     * Set the maximum volume a sound, if not set assumed to be 1.0 (100% of the source volume)
     */
    private _setMix;
    track(name: SoundName | AnyString, soundOrConfig: Sound | SoundConfig): void;
    /**
     * Remove the maximum volume for a sound, will be 100% of the source volume
     *
     * Untracks the Sound in the sound manager
     */
    untrack(soundName: SoundName): void;
    stop(name?: SoundName): void;
    mute(name?: SoundName): void;
    unmute(name?: SoundName): void;
    toggle(name?: SoundName): void;
    /**
     * Apply a list of channels to a sound instance
     */
    addChannel(soundName: SoundName | AnyString, channels: Channel[] | AnyString[]): void;
    removeChannel(soundName: SoundName | AnyString, channels: Channel[] | AnyString[]): void;
}
